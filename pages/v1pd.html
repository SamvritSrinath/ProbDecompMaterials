<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework 5: Introduction to Decomposition</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../lib/highlight/styles/github.min.css" />
  </head>
  <body>
    <div class="page-container">
      <aside class="sidebar">
        <div>
          <h3>Problem Sets</h3>
          <nav>
            <ul>
              <li><a href="v1pd.html" class="active">Homework 5</a></li>
              <li><a href="v2pd.html">Homework 7</a></li>
              <li><a href="v3pd.html">Homework 8</a></li>
              <li><a href="v4pd.html">Homework 9</a></li>
            </ul>
          </nav>
        </div>
        <a href="../index.html" class="sidebar-home-link">Go Home</a>
      </aside>
      <main class="content">
        <header>
          <h1>Homework 5: Introduction to Decomposition</h1>
          <nav class="toc-container">
            <h3>Table of Contents</h3>
            <ul id="toc"></ul>
          </nav>
        </header>

        <div class="question" id="q1">
          <h2>Identifying Decomposition Issues with Tuples and Lists</h2>
          <p>
            <strong>Scenario:</strong> Imagine that you’re part of the CSE 8A
            Instructional Team, collecting some info about the students in your
            class! You have a pipeline that extracts some data about your
            students enrolled, and in your larger pipeline, you get a list of
            tuples, where each tuple contains a student's name (string) and
            their major (string). You need to create a new list containing only
            the names of students in a CSE Major. Consider the following code
            snippet designed to achieve this.
          </p>
          <p>Currently the existing pipeline looks like the code below.</p>
          <pre><code class="language-python">
def data_pipeline():
    # Read from a file
    with open("data.txt", "r") as data_file:
        lines = data_file.readlines()
    
    # Process the data
    student_data = []
    for line in lines:
        parts = line.strip().split(",")
        if len(parts) == 2:
            student_data.append((parts[0], parts[1]))

    # Filter CS students
    cs_students = []
    cse_majors = ["Computer Science", "Computer Engineering"]
    for student in student_data:
        if student[1] in cse_majors:
            cs_students.append(student[0])

    # Print the result directly
    print("Students in CS-related majors:")
    for name in cs_students:
        print(name)
                </code></pre>
          <p>
            <strong>Question:</strong> Based on the principles of Problem
            Decomposition, what are the problems with the code snippet above?
            (Select All)
          </p>
          <ul>
            <li><b>It does too many different things in one function</b></li>
            <li>It calls too many leaf functions from our codebase</li>
            <li>
              The function should both print and return the results (not just
              print them)
            </li>
            <li><b>It’s hard to reuse any of the code in other places</b></li>
            <li>None — it’s already written in a clear, reusable way</li>
          </ul>
        </div>

        <div class="question" id="q2">
          <h2>Decomposing the Data Pipeline</h2>
          <p>
            You redesign the code from the previous question so that
            “data_pipeline” is now a parent function. That function calls a
            function “read_from_file(file_name)” that returns the lines of the
            file as a list. It then passes that list to the
            “process_the_data(lines)” function that returns a list of tuples
            which contain (name, major). Next, you want to call a function that
            will filter out the names of just the students who are in CS majors
            (the names of “CS majors” can vary). After you call the filter
            function, the parent function will print the names of the students.
            Which function signature is likely the best?
          </p>
          <ol type="A">
            <li><code>filter()</code></li>
            <li><code>filter(student_data)</code></li>
            <li>
              <b><code>filter(student_data, cse_majors)</code></b>
            </li>
            <li><code>filter(student_data, cse_majors, names)</code></li>
          </ol>
        </div>

        <div class="question" id="q3">
          <h2>Processing Project Tasks</h2>
          <p>
            <strong>Scenario:</strong> You are given a dictionary where keys are
            project names and values are lists of tasks. Each task is a tuple:
            <code>(task_name, status, priority)</code>. You need to create a
            summary report: a new dictionary where keys are project names and
            values are a summary dictionary containing
            <code
              >{"completed_count": count, "highest_incomplete_priority":
              priority}</code
            >.
          </p>
          <p>
            <strong>Question:</strong> Which of the following Python programs
            best meets the requirements, while also demonstrating good structure
            and problem decomposition?
          </p>
          <hr />
          <p><strong>Option A:</strong></p>
          <pre><code class="language-python">
def generate_project_summary_a(projects):
    summary = {}
    for project_name, tasks in projects.items():
        completed_count = 0
        highest_incomplete_priority = 0
        for task_name, status, priority in tasks:
            if status == "completed":
                completed_count += 1
            elif status == "incomplete":
                if priority > highest_incomplete_priority:
                    highest_incomplete_priority = priority
        summary[project_name] = {
            "completed_count": completed_count,
            "highest_incomplete_priority": highest_incomplete_priority
        }
    return summary
                </code></pre>
          <hr />
          <p>
            <b><strong>Option B:</strong></b>
          </p>
          <pre><code class="language-python">
def count_completed_tasks(tasks):
    return sum(1 for task in tasks if task[1] == "completed")

def find_highest_incomplete_priority(tasks):
    highest_priority = 0
    for task in tasks:
        if task[1] == "incomplete" and task[2] > highest_priority:
            highest_priority = task[2]
    return highest_priority

def generate_project_summary_c(projects):
    summary = {}
    for project_name, tasks in projects.items():
        summary[project_name] = {
            "completed_count": count_completed_tasks(tasks),
            "highest_incomplete_priority": find_highest_incomplete_priority(tasks)
        }
    return summary
                </code></pre>
          <hr />
          <p><strong>Option C:</strong></p>
          <pre><code class="language-python">
def process_tasks_and_summarize(tasks):
    completed = [t for t in tasks if t[1] == "completed"]
    incomplete_priorities = [t[2] for t in tasks if t[1] == "incomplete"]
    
    completed_count = len(completed)
    highest_prio = max(incomplete_priorities) if incomplete_priorities else 0
    
    return {"completed_count": completed_count, "highest_incomplete_priority": highest_prio}

def generate_project_summary_d(projects):
    summary = {}
    for project_name, tasks in projects.items():
        summary[project_name] = process_tasks_and_summarize(tasks)
    return summary
                </code></pre>
        </div>

        <div class="question" id="q4">
          <h2>Decomposition Issues with a Mixed Item List</h2>
          <p>
            <strong>Scenario:</strong> A function receives a list,
            <code>data</code>, containing integers, then strings, then tuples.
            The function must: 1) Sum the integers. 2) Filter for long strings.
            3) Count tuples that contain a negative number. 4) Print all
            results.
          </p>
          <pre><code class="language-python">
def process_structured_list(data, n_integers, n_strings, n_tuples):
    # Op 1: Sum integers
    total_sum = sum(data[i] for i in range(n_integers))

    # Op 2: Filter long strings
    start_str = n_integers
    end_str = start_str + n_strings
    long_strings = [s for s in data[start_str:end_str] if len(s) > 5]

    # Op 3: Count tuples with negatives
    neg_tuple_count = 0
    start_tuple = end_str
    for i in range(start_tuple, start_tuple + n_tuples):
        for element in data[i]:
            if element < 0:
                neg_tuple_count += 1
                break # count tuple only once

    # Op 4: Print results
    print(f"Sum of integers: {total_sum}")
    print(f"Long strings: {long_strings}")
    print(f"Count of tuples with negatives: {neg_tuple_count}")
                </code></pre>
          <p>
            <strong>Question:</strong> Which of the following function
            prototypes would be most useful for decomposing the
            <strong>calculation and filtering</strong> parts of this problem?
            (Select all that apply.)
          </p>
          <ol type="A">
            <li>
              <b
                ><code>calculate_sum_of_integers(data, n_integers)</code>:
                Returns the sum of the initial integer segment.</b
              >
            </li>
            <li>
              <b
                ><code
                  >filter_strings_by_length(data, n_integers, n_strings)</code
                >: Returns a list of strings longer than 5 characters from the
                string segment.</b
              >
            </li>
            <li>
              <b
                ><code
                  >count_tuples_with_any_negative(data, n_integers, n_strings,
                  n_tuples)</code
                >: Returns the count of tuples that contain at least one
                negative number.</b
              >
            </li>
            <li>
              <code>process_structured_list_helper(...)</code>: Performs all
              calculations and printing in a single helper.
            </li>
            <li>
              <code>count_total_elements(data)</code>: Returns the total number
              of elements in the list.
            </li>
            <li>
              <b
                ><code>check_single_tuple_for_negative(a_tuple)</code>: Returns
                True if a single tuple contains a negative number.</b
              >
            </li>
            <li>
              <code>get_sum_and_strings(data, n_integers, n_strings)</code>:
              Returns both the sum of integers and the list of long strings.
            </li>
            <li>
              <code>check_len_string(string)</code>: Returns the length of the
              supplied string.
            </li>
          </ol>
        </div>
      </main>
    </div>
    <script src="../lib/highlight/highlight.min.js"></script>
    <script src="../js/main.js"></script>
  </body>
</html>
